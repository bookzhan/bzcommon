apply plugin: 'com.android.library'
android {
    compileSdkVersion 28
    buildToolsVersion "29.0.0"

    defaultConfig {
        minSdkVersion 18
        targetSdkVersion 28
        versionCode 1
        versionName "1.0"

        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"

    }

    buildTypes {
        debug {
            minifyEnabled false
            shrinkResources false
        }
        release {
            minifyEnabled false
            shrinkResources false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

}
ext {
    publish_group_id = 'io.github.bookzhan'
    publish_artifact_id = "bzcommon"
    publish_version = '1.1.16'
    publish_description = 'bzcommonlib'

    developer_id = 'guaishou'
    developer_name = 'bookzhan'
    developer_email = 'bookzhan@qq.com'

    github_name = 'bookzhan'
    github_project_name = 'bzcommon'
    github_project_url = 'https://github.com/bookzhan/bzcommon'
}
File secretPropsFile = project.rootProject.file('local.properties')
if (secretPropsFile.exists()) {
    Properties p = new Properties()
    p.load(new FileInputStream(secretPropsFile))
    if (p.containsKey("signing.keyId") && p.containsKey("signing.password") && p.containsKey("signing.secretKeyRingFile")
            && p.containsKey("ossrhUsername") && p.containsKey("ossrhPassword")) {
        apply from: 'https://raw.githubusercontent.com/bookzhan/maven-publish-gradle/master/publish.gradle'
        println("Configuration information detected")
        task uploadToMavenCentral(group: 'publishing') {
            dependsOn(assemble)
            dependsOn(publishReleasePublicationToMavencentralRepository)
        }
    } else {
        println("Please configure the signature and account information in the local.properties file")
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation 'androidx.appcompat:appcompat:1.3.1'
}
